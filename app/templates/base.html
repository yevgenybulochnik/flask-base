<!DOCTYPE html>
<html lang="en">
<head>
  {% block meta %}{% endblock %}
  <title>{% block title %}{{title|default}}{% endblock %}</title>
  {% block styles %}{% endblock %}
</head>
<body>
  {% block navbar %}{% endblock %}
  {% block app_content %}{% endblock %}

  {% block scripts %}{% endblock %}
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('/sw.js').then(function(registration) {
          console.log('ServiceWorker registration successful with scope: ', registration.scope)
        }, function(err) {
          console.log('ServiceWorker registration failed: ', err)
        })
      })
    }
  </script>
</body>
</html>
